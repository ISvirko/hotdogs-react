(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,a){e.exports=a.p+"static/media/hotdog-icon.3bc1d159.png"},105:function(e,t,a){e.exports=a(229)},228:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var r,n=a(0),o=a.n(n),c=a(46),i=a.n(c),u=a(6),s=a(28),d=a(16),l=a(5),m=a(232),p=a(104),g={items:Object(d.b)({name:"items",initialState:[],reducers:{addItemSuccess:function(e,t){var a=t.payload;return[].concat(Object(p.a)(e),[a])},getAllItemsSuccess:function(e,t){return t.payload},deleteItemSuccess:function(e,t){var a=t.payload;return e.filter((function(e){return e.hid!==a}))},updateItemSuccess:function(e,t){var a=t.payload;return e.map((function(e){return e.hid===a.hid?a:e}))}}}),loading:Object(d.b)({name:"loading",initialState:!1,reducers:{addItemRequest:function(){return!0},addItemSuccess:function(){return!1},addItemError:function(){return!1},getAllItemsRequest:function(){return!0},getAllItemsSuccess:function(){return!1},getAllItemsError:function(){return!1},deleteItemRequest:function(){return!0},deleteItemSuccess:function(){return!1},deleteItemError:function(){return!1},updateItemRequest:function(){return!0},updateItemSuccess:function(){return!1},updateItemError:function(){return!1}}}),error:Object(d.b)({name:"error",initialState:null,reducers:{addItemError:function(e,t){return t.payload},getAllItemsError:function(e,t){return t.payload},deleteItemError:function(e,t){return t.payload},updateItemError:function(e,t){return t.payload}}}),currentItem:Object(d.b)({name:"currentItem",initialState:null,reducers:{setEditedItem:function(e,t){return t.payload},unsetEditedItem:function(){return null}}})},f=Object(d.a)({reducer:Object(l.c)((r={},Object(s.a)(r,g.items.name,g.items.reducer),Object(s.a)(r,g.loading.name,g.loading.reducer),Object(s.a)(r,g.error.name,g.error.reducer),Object(s.a)(r,g.currentItem.name,g.currentItem.reducer),Object(s.a)(r,"form",m.a),r)),middleware:Object(d.c)({serializableCheck:!1})}),b=a(49),E=a(231),h=a(230),_=a(11),v=a.n(_),I=a(22),N=a(19),y=a.n(N);y.a.defaults.baseURL="https://hotdogger-psql.herokuapp.com/";var O=function(e){return function(){var t=Object(I.a)(v.a.mark((function t(a){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g.loading.actions.addItemRequest()),t.prev=1,t.next=4,y.a.post("/hotdogs",e);case 4:r=t.sent,a(g.items.actions.addItemSuccess(r.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(g.error.actions.addItemError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},j=function(){return function(){var e=Object(I.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g.loading.actions.getAllItemsRequest()),e.prev=1,e.next=4,y()("/hotdogs");case 4:a=e.sent,t(g.items.actions.getAllItemsSuccess(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(g.error.actions.getAllItemsError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(I.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g.loading.actions.deleteItemRequest()),t.prev=1,t.next=4,y.a.delete("/hotdogs/".concat(e));case 4:a(g.items.actions.deleteItemSuccess(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a(g.error.actions.deleteItemError(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(I.a)(v.a.mark((function t(a){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g.loading.actions.updateItemRequest()),console.log(e),t.prev=2,t.next=5,y.a.put("/hotdogs/".concat(e.hid),e);case 5:r=t.sent,a(g.items.actions.updateItemSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a(g.error.actions.updateItemError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},H=function(e){var t={};return e.name||(t.name="Required"),e.price||(t.price="Required"),e.description||(t.description="Required"),e.image||(t.image="Required"),t},w=function(){var e=Object(I.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,e.prev=1,e.next=4,y()("/hotdogs/".concat(a));case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),{name:"Name already exists"};case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),S=a(8),R=a.n(S),A=function(e){var t=e.input,a=e.type,r=e.placeholder,n=e.meta,c=n.touched,i=n.error;return o.a.createElement("div",{className:R.a.inputRow},o.a.createElement("input",Object.assign({},t,{type:a,placeholder:r,className:R.a.input,autoComplete:"off"})),c&&i&&o.a.createElement("span",{className:R.a.error},i))},C=function(e){var t=e.input,a=e.type,r=e.placeholder,n=e.meta,c=n.touched,i=n.error;return o.a.createElement("div",{className:R.a.inputRow},o.a.createElement("textarea",Object.assign({},t,{type:a,placeholder:r,className:R.a.textarea,rows:5})),c&&i&&o.a.createElement("span",{className:R.a.error},i))},k=Object(h.a)({form:"addHotdogForm",validate:H,asyncValidate:w,asyncChangeFields:["name"]})((function(e){var t=e.handleSubmit,a=e.submitting,r=e.setOpenAddForm,n=Object(u.c)();return o.a.createElement("div",{className:R.a.overlay},o.a.createElement("div",{className:R.a.formWrapper},o.a.createElement("form",{className:R.a.addForm,onSubmit:t((function(e){n(O(e)),r(!1)}))},o.a.createElement("h2",{className:R.a.addFormTitle},"Add new hot dog"),o.a.createElement(E.a,{name:"name",type:"text",placeholder:"Name",component:A}),o.a.createElement(E.a,{name:"price",type:"number",placeholder:"Price",component:A}),o.a.createElement(E.a,{name:"description",type:"text",placeholder:"Description",component:C}),o.a.createElement(E.a,{name:"image",type:"text",placeholder:"Image",component:A}),o.a.createElement("div",{className:R.a.buttonWrapper},o.a.createElement("button",{className:R.a.button,type:"button",disabled:a,onClick:function(){r(!1)}},"No, thanks"),o.a.createElement("button",{className:R.a.button,type:"submit",disabled:a},"Add")))))})),W=a(103),q=a.n(W),D=a(23),T=a.n(D),P=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],r=t[1];return o.a.createElement("div",{className:T.a.headerWrapper},o.a.createElement("div",{className:"container"},o.a.createElement("nav",{className:T.a.header},o.a.createElement("div",{className:T.a.logoWrapper},o.a.createElement("img",{src:q.a,alt:"icon-hotdog",className:T.a.logoImg}),o.a.createElement("h1",{className:T.a.logo},"Crud")),o.a.createElement("button",{className:T.a.addButton,onClick:function(){r(!0)}},"Add hot dog"),a&&o.a.createElement(k,{setOpenAddForm:r}))))},B=a(13),L=Object(B.a)((function(e){return{items:e.items,loading:e.loading,error:e.error,currentItem:e.currentItem}}),(function(e){return e})),M=a(9),V=a.n(M),z=function(e){var t=e.input,a=e.type,r=e.placeholder,n=e.meta,c=n.touched,i=n.error;return o.a.createElement("div",{className:V.a.inputRow},o.a.createElement("input",Object.assign({},t,{type:a,placeholder:r,className:V.a.input})),c&&i&&o.a.createElement("span",{className:V.a.error},i))},J=function(e){var t=e.input,a=e.type,r=e.placeholder,n=e.meta,c=n.touched,i=n.error;return o.a.createElement("div",{className:V.a.inputRow},o.a.createElement("textarea",Object.assign({},t,{type:a,placeholder:r,className:V.a.textarea,rows:5})),c&&i&&o.a.createElement("span",{className:V.a.error},i))},X=Object(h.a)({form:"editHotdogForm",enableReinitialize:!0,validate:H})((function(e){var t=e.item,a=e.handleDelete,r=e.handleSubmit,n=e.submitting,c=e.setEditMode,i=t.hid,s=t.image,d=t.name,l=Object(u.c)();return o.a.createElement("div",{className:V.a.hotdogCard},o.a.createElement("img",{src:s,alt:d}),o.a.createElement("form",{onSubmit:r((function(e){l(F(e)),l(g.currentItem.actions.unsetEditedItem()),c(!1)})),className:V.a.form},o.a.createElement(E.a,{name:"image",type:"text",component:z,className:V.a.editInput}),o.a.createElement(E.a,{name:"name",type:"text",component:z}),o.a.createElement(E.a,{name:"price",type:"number",component:z}),o.a.createElement(E.a,{name:"description",type:"text",component:J}),o.a.createElement("div",{className:V.a.buttonWrapper},o.a.createElement("button",{type:"submit",disabled:n,className:V.a.button},"Save"),o.a.createElement("button",{type:"button",onClick:function(){return a(i)},disabled:n,className:V.a.button},"Delete"))))})),Y=Object(u.b)((function(e){return{initialValues:e.currentItem}}))(X),Z=a(29),G=a.n(Z),K=function(e){var t=e.item,a=Object(n.useState)(!1),r=Object(b.a)(a,2),c=r[0],i=r[1],s=Object(u.c)();return o.a.createElement(o.a.Fragment,null,c?o.a.createElement(Y,{item:t,handleDelete:function(e){s(x(e)),i(!1)},setEditMode:i}):o.a.createElement("div",{className:G.a.hotdogCard},o.a.createElement("div",null,o.a.createElement("img",{src:t.image,alt:t.name}),o.a.createElement("h3",{className:G.a.hotdogName},t.name),o.a.createElement("p",{className:G.a.hotdogPrice},"$",t.price),o.a.createElement("p",{className:G.a.hotdogDescription},t.description)),o.a.createElement("button",{onClick:function(){i(!0),s(g.currentItem.actions.setEditedItem(t))},className:G.a.button},"Edit")))},Q=a(68),U=a.n(Q),$=function(){var e=Object(u.d)(L).items;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{className:U.a.listTitle},"All hot dogs"),e.length>0?o.a.createElement("ul",{className:U.a.list},e.map((function(e){return o.a.createElement("li",{key:e.hid},o.a.createElement(K,{item:e}))}))):null)};var ee=function(){var e=Object(u.c)();return Object(n.useEffect)((function(){e(j())}),[e]),o.a.createElement(o.a.Fragment,null,o.a.createElement(P,null),o.a.createElement("div",{className:"container"},o.a.createElement($,null)))};a(228);i.a.render(o.a.createElement(u.a,{store:f},o.a.createElement(ee,null)),document.getElementById("root"))},23:function(e,t,a){e.exports={headerWrapper:"Header_headerWrapper__3id3r",header:"Header_header__3LZaC",logoWrapper:"Header_logoWrapper__16OFZ",logoImg:"Header_logoImg__2sC57",logo:"Header_logo__b-98S",addButton:"Header_addButton__3Wj-Y"}},29:function(e,t,a){e.exports={hotdogCard:"HotdogCard_hotdogCard__2XV7q",hotdogName:"HotdogCard_hotdogName__3k62n",hotdogPrice:"HotdogCard_hotdogPrice__1-Wli",hotdogDescription:"HotdogCard_hotdogDescription__3ruG1",button:"HotdogCard_button__2LDlS"}},68:function(e,t,a){e.exports={listTitle:"HotdogList_listTitle__2qM_b",list:"HotdogList_list__D1vVg"}},8:function(e,t,a){e.exports={overlay:"AddHotdogForm_overlay__1wCEH",addForm:"AddHotdogForm_addForm__dftNW",addFormTitle:"AddHotdogForm_addFormTitle__FqVD9",inputRow:"AddHotdogForm_inputRow__2fRBw",input:"AddHotdogForm_input__1N7gM",textarea:"AddHotdogForm_textarea__pF_K5",error:"AddHotdogForm_error__wpTDl",buttonWrapper:"AddHotdogForm_buttonWrapper__1NRai",button:"AddHotdogForm_button__34jY6"}},9:function(e,t,a){e.exports={hotdogCard:"EditHotdogForm_hotdogCard__3lzID",inputRow:"EditHotdogForm_inputRow__2POiW",input:"EditHotdogForm_input__1XxQE",textarea:"EditHotdogForm_textarea__666nM",buttonWrapper:"EditHotdogForm_buttonWrapper__kP2Pc",button:"EditHotdogForm_button__3BT4g"}}},[[105,1,2]]]);
//# sourceMappingURL=main.991999f1.chunk.js.map